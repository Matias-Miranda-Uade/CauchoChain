# ğŸ¨ GuÃ­a Visual del Sistema de Tokens - PirgaChain

## Interfaz GrÃ¡fica del Panel de Tokens

### Vista General
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MainWindow - CauchoChain - Blockchain Simulator                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Vista Blockchain] [Tokens] [Wallets] [MinerÃ­a] [Transacciones] [Config.]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Crear Nuevo Token â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Nombre: [Mi Moneda    ] SÃ­mbolo: [MIM  ] Suministro: [1000      ]    â”‚   â”‚
â”‚ â”‚ Creador: [SYSTEM              ] [Crear Token] âœ“                      â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚ â”Œâ”€â”€â”€ Tokens Registrados â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€ Detalles del Token â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ Nombre â”‚ SÃ­mbolo â”‚ ... â”‚ Creador         â”‚  â”‚ === DETALLES ===     â”‚     â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ ID: 550e8400-e29b-41d4-a716-...   â”‚     â”‚
â”‚ â”‚ Dogecoinâ”‚ DOGE   â”‚ 1000000 â”‚  â”‚ Nombre: Dogecoin                 â”‚     â”‚
â”‚ â”‚ Bitcoin â”‚ BTC    â”‚ 21000000â”‚  â”‚ SÃ­mbolo: DOGE                    â”‚     â”‚
â”‚ â”‚ Ethereumâ”‚ ETH    â”‚ 1000000 â”‚  â”‚ Suministro: 1000000              â”‚     â”‚
â”‚ â”‚ Bitcoin â”‚ BTC    â”‚ 21000000â”‚  â”‚ Creador: SYSTEM                  â”‚     â”‚
â”‚ â”‚         â”‚        â”‚         â”‚  â”‚ Creado: 2024-01-15 10:30:45      â”‚     â”‚
â”‚ â”‚         â”‚        â”‚         â”‚  â”‚                                  â”‚     â”‚
â”‚ â”‚                             â”‚  â”‚ === SALDOS ===                   â”‚     â”‚
â”‚ â”‚ [Actualizar]                â”‚  â”‚ SYSTEM: 900000                   â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ USUARIO_A: 100000                â”‚     â”‚
â”‚                                   â”‚ USUARIO_B: 500000                â”‚     â”‚
â”‚                                   â”‚ USUARIO_C: 50000                 â”‚     â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                               â”‚
â”‚                              [Actualizar]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Flujo de Uso

### Paso 1: Crear un Token
```
Usuario abre la pestaÃ±a "Tokens"
        â†“
Completa el formulario:
  â€¢ Nombre: "Dogecoin"
  â€¢ SÃ­mbolo: "DOGE"
  â€¢ Suministro: 1000000
  â€¢ Creador: "SYSTEM"
        â†“
Haz clic en "Crear Token"
        â†“
Se validan los datos
        â†“
Se crea el token en TokenRegistry
        â†“
Aparece mensaje de Ã©xito con ID del token
        â†“
La tabla se actualiza automÃ¡ticamente
```

### Paso 2: Ver Detalles
```
Usuario selecciona una fila en la tabla
        â†“
El panel derecho "Detalles del Token" se actualiza
        â†“
Muestra:
  - InformaciÃ³n del token
  - Tabla completa de balances
  - QuiÃ©n posee cuÃ¡ntos tokens
```

---

## ğŸ”„ Operaciones Disponibles

### 1ï¸âƒ£ Crear Token
**Entrada:**
- Nombre: String (ej: "Dogecoin")
- SÃ­mbolo: String (ej: "DOGE")
- Suministro: Long (ej: 1000000)
- Creador: String (direcciÃ³n/nombre del creador)

**Resultado:**
- Nuevo token creado y registrado
- Creador recibe todo el suministro inicial
- ID Ãºnico generado

**CÃ³digo:**
```java
Token token = blockchain.tokenRegistry.createToken(
    "Dogecoin",
    "DOGE",
    1000000,
    "SYSTEM"
);
```

---

### 2ï¸âƒ£ Transferir Tokens
**OperaciÃ³n:** Mover tokens de una direcciÃ³n a otra

**Entrada:**
- Token ID
- DirecciÃ³n origen
- DirecciÃ³n destino
- Cantidad

**Validaciones:**
- âœ“ DirecciÃ³n origen tiene suficiente saldo
- âœ“ Cantidad > 0
- âœ“ Token existe

**CÃ³digo:**
```java
boolean exito = blockchain.tokenRegistry.transferToken(
    tokenId,
    "USUARIO_A",
    "USUARIO_B",
    1000
);
```

**Antes:**
- USUARIO_A: 5000 DOGE
- USUARIO_B: 2000 DOGE

**DespuÃ©s:**
- USUARIO_A: 4000 DOGE
- USUARIO_B: 3000 DOGE

---

### 3ï¸âƒ£ AcuÃ±ar (Mint) Tokens
**OperaciÃ³n:** Crear nuevos tokens (solo el creador)

**Entrada:**
- Token ID
- DirecciÃ³n destino
- Cantidad
- DirecciÃ³n del llamador (debe ser el creador)

**Validaciones:**
- âœ“ Quien llama es el creador
- âœ“ Cantidad > 0

**CÃ³digo:**
```java
boolean exito = blockchain.tokenRegistry.mintToken(
    tokenId,
    "USUARIO_A",
    500000,
    "SYSTEM"  // Solo el creador
);
```

**Resultado:**
- Se crean nuevos tokens
- Se asignan a USUARIO_A
- Aumenta el suministro total

---

### 4ï¸âƒ£ Quemar (Burn) Tokens
**OperaciÃ³n:** Eliminar tokens (reduce el suministro total)

**Entrada:**
- Token ID
- DirecciÃ³n que quema
- Cantidad

**CÃ³digo:**
```java
boolean exito = blockchain.tokenRegistry.burnToken(
    tokenId,
    "USUARIO_A",
    100000
);
```

**Resultado:**
- Se restan tokens de USUARIO_A
- Disminuye el suministro total

---

## ğŸ“Š Estructura de Datos

### Token
```
Token
â”œâ”€â”€ id: "550e8400-e29b-41d4-a716-446655440000" (UUID)
â”œâ”€â”€ name: "Dogecoin"
â”œâ”€â”€ symbol: "DOGE"
â”œâ”€â”€ totalSupply: 1000000 (long)
â”œâ”€â”€ creator: "SYSTEM"
â”œâ”€â”€ createdAt: 1705329045000 (timestamp milisegundos)
â””â”€â”€ balances: Map<String, Long>
    â”œâ”€â”€ "SYSTEM" â†’ 450000
    â”œâ”€â”€ "USUARIO_A" â†’ 350000
    â””â”€â”€ "USUARIO_B" â†’ 200000
```

### TokenRegistry
```
TokenRegistry
â”œâ”€â”€ tokens: Map<String, Token>
â”‚   â”œâ”€â”€ "550e8400-..." â†’ Token(Dogecoin)
â”‚   â”œâ”€â”€ "660e8400-..." â†’ Token(Bitcoin)
â”‚   â””â”€â”€ "770e8400-..." â†’ Token(Ethereum)
â””â”€â”€ tokenIds: List<String>
    â””â”€â”€ [550e8400-..., 660e8400-..., 770e8400-...]
```

---

## ğŸ¯ Casos de Uso

### Caso 1: Sistema de Gobernanza
```
1. Crear token "GobernanzaChain" (GOV)
2. Distribuir a votantes
3. Usar balance como peso de voto
```

### Caso 2: EconomÃ­a de Juego
```
1. Crear token "GoldCoin" (GOLD) para recompensas
2. Mineros ganan GOLD al validar bloques
3. Usuarios intercambian GOLD por bienes
```

### Caso 3: Sistema de Lealtad
```
1. Crear token "LoyaltyPoints" (LP)
2. AcuÃ±ar LP al hacer transacciones
3. Quemar LP al usar beneficios
```

### Caso 4: Moneda Estable
```
1. Crear token "StableCoin" (STABLE)
2. Control centralizado del creador
3. AcuÃ±aciÃ³n bajo demanda
```

---

## âš™ï¸ MÃ©todos del TokenPanel

### `createNewToken(String name, String symbol, long totalSupply, String creator)`
- Crea un nuevo token validando datos
- Muestra diÃ¡logo de Ã©xito/error
- Actualiza la tabla

### `showTokenDetails()`
- Se ejecuta cuando seleccionas un token
- Muestra informaciÃ³n completa
- Actualiza panel derecho

### `refreshTokenList()`
- Actualiza la tabla de tokens
- Se llama cada 3 segundos automÃ¡ticamente
- Se puede activar manualmente

---

## ğŸš€ IntegraciÃ³n con otras partes

### Con Blockchain
```java
blockchain.tokenRegistry.createToken(...)  // Acceso directo
```

### Con Logger
```java
blockchain.getLogger().info("Token creado: ...");
```

### Con GUI
```java
tabs.add("Tokens", new TokenPanel(blockchain));
```

---

## âœ¨ CaracterÃ­sticas Especiales

1. **ValidaciÃ³n AutomÃ¡tica**: Todos los datos se validan antes de operaciones
2. **ActualizaciÃ³n en Tiempo Real**: Tabla se actualiza cada 3 segundos
3. **Interfaz Intuitiva**: Campos claramente etiquetados y organizados
4. **Manejo de Errores**: DiÃ¡logos informativos en caso de error
5. **InformaciÃ³n Detallada**: Panel lateral muestra balances completos
6. **Identidad Ãšnica**: Cada token tiene un UUID Ãºnico e inmutable

---

## ğŸ” Seguridad

- âœ… Solo el creador puede acuÃ±ar tokens
- âœ… Se valida saldo antes de transferencias
- âœ… Se valida existencia de tokens
- âœ… Campos de entrada sanitizados
- âœ… Todas las operaciones registradas en logger

---

## ğŸ“ˆ PrÃ³ximas Mejoras

- [ ] Transferencias en GUI (dragAndDrop)
- [ ] Historial completo de transacciones
- [ ] GrÃ¡ficas de distribuciÃ³n
- [ ] Sistema de aprobaciones (allowance)
- [ ] Decimales para precisiÃ³n
- [ ] EstÃ¡ndares ERC-20 completos
- [ ] Sistema de fees por transferencia
- [ ] Whitelist/Blacklist de direcciones

